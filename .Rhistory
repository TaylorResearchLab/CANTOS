actual_ind<- seq(4,27,2)[ind]-1
tumor_names <- unique(unlist(tumor_sample_df_all[iter,actual_ind]))
if(length(ind)>0){
if(length(tumor_names)>1){
tumor_sample_df_all$ground_truth[iter]<-"MG"
tumor_sample_df_all$ground_truth_val[iter]<-paste(tumor_names,collapse = ";")
}else{
tumor_sample_df_all$ground_truth[iter]<-"G"
tumor_sample_df_all$ground_truth_val[iter]<-paste(tumor_names,collapse = ";")
}
}else{
tumor_sample_df_all$ground_truth[iter]<-"U"
tumor_sample_df_all$ground_truth_val[iter]<-"Unknown"
}
}
tumor_sample_df_all<- tumor_sample_df_all[order(tumor_sample_df_all$ground_truth),]
rownames(tumor_sample_df_all)<-NULL
for (iter in 1:dim(tumor_sample_df_5thed)[1]){
ind<- which(tumor_sample_df_5thed[iter,seq(4,27,2)]==1)
actual_ind<- seq(4,27,2)[ind]-1
tumor_names <- unique(unlist(tumor_sample_df_5thed[iter,actual_ind]))
if(length(ind)>0){
if(length(tumor_names)>1){
tumor_sample_df_5thed$ground_truth[iter]<-"MG"
tumor_sample_df_5thed$ground_truth_val[iter]<-paste(tumor_names,collapse = ";")
}else{
tumor_sample_df_5thed$ground_truth[iter]<-"G"
tumor_sample_df_5thed$ground_truth_val[iter]<-paste(tumor_names,collapse = ";")
}
}else{
tumor_sample_df_5thed$ground_truth[iter]<-"U"
tumor_sample_df_5thed$ground_truth_val[iter]<-"Unknown"
}
}
tumor_sample_df_5thed<- tumor_sample_df_5thed[order(tumor_sample_df_5thed$ground_truth),]
rownames(tumor_sample_df_5thed)<-NULL
tumor_sample_df_5thed<-tumor_sample_df_5thed[,c(1,2,27,28,3:26)]
tumor_sample_df_all<-tumor_sample_df_all[,c(1,2,27,28,3:26)]
tdf_old_5th<-read.csv(paste(result_dir_5th,"tumor_sample_df_script10_5thed_corrected_ground_truth_aug19.csv",sep=""))
tdf_old_5th<-read.csv(paste(result_dir_5th,"/tumor_sample_df_script10_5thed_corrected_ground_truth_aug19.csv",sep=""))
tdf_old_all<-read.csv(paste(result_dir,"/tumor_sample_df_ground_truth_all_edition_aug19.csv",sep=""))
unique(tdf_old_5th$ground_truth)
unique(tdf_old_all$ground_truth)
for(iter in 1:1600){
if (tumor_sample_df_5thed$nct_id[iter]==tdf_old_5th$nct_id[iter] &
tumor_sample_df_5thed$Tumor_Names[iter]==tdf_old_5th$Tumor_Names[iter] &
tumor_sample_df_5thed$ground_truth_val[iter]=="Unknown" & tumor_sample_df_5thed$ground_truth[iter]=="U"){
tumor_sample_df_5thed$ground_truth_val[iter]=tdf_old_5th$ground_truth_val[iter]
tumor_sample_df_5thed$ground_truth[iter]=tdf_old_5th$ground_truth[iter]
}
if (tumor_sample_df_all$nct_id[iter]==tdf_old_all$nct_id[iter] &
tumor_sample_df_all$Tumor_Names[iter]==tdf_old_all$Tumor_Names[iter] &
tumor_sample_df_all$ground_truth_val[iter]=="Unknown" & tumor_sample_df_all$ground_truth[iter]=="U"){
tumor_sample_df_all$ground_truth_val[iter]=tdf_old_all$ground_truth_val[iter]
tumor_sample_df_all$ground_truth[iter]=tdf_old_all$ground_truth[iter]
}
}
unique(tumor_sample_df_5thed$ground_truth)
unique(tumor_sample_df_all$ground_truth)
View(tdf_old_all)
View(tumor_sample_df_5thed)
View(tumor_sample_df_all)
View(tdf_old_5th)
# Set the directories
setwd(getwd())
root_dir <- rprojroot::find_root(rprojroot::has_dir(".git"))
util_dir <- file.path(root_dir, "util")
data_dir <- file.path(root_dir,"data")
input_dir <- file.path(root_dir,"input")
analysis_dir <- file.path(root_dir,"analysis")
intermediate_dir <- file.path(analysis_dir,"intermediate")
result_dir <- file.path(analysis_dir,"results")
intermediate_dir_5th <- file.path(analysis_dir,"intermediate_5th")
result_dir_5th <- file.path(analysis_dir,"results_5th")
#This script is used evaluate the accuracy of each clustering+standardization methods.
suppressPackageStartupMessages({
library(dplyr)
library(data.table)
library(ggplot2)
library(tidyverse)
library(stringi)
library(qdapRegex)
library(ghql)
library(readxl)
library(dbscan)
library(isotree)
})
tumor_sample_df_all<-read.csv(paste(result_dir,"/tumor_sample_df_script10_11sep.csv",sep = ""))
tumor_sample_df_5thed<-read.csv(paste(result_dir_5th,"/tumor_sample_df_script10_5thed_sep11.csv",sep = ""))
View(tumor_sample_df_5thed)
tumor_sample_df_all$ground_truth <- NA
tumor_sample_df_5thed$ground_truth_val <- NA
for (iter in 1:dim(tumor_sample_df_all)[1]){
ind<- which(tumor_sample_df_all[iter,seq(4,27,2)]==1)
actual_ind<- seq(4,27,2)[ind]-1
tumor_names <- unique(unlist(tumor_sample_df_all[iter,actual_ind]))
if(length(ind)>0){
if(length(tumor_names)>1){
tumor_sample_df_all$ground_truth[iter]<-"MG"
tumor_sample_df_all$ground_truth_val[iter]<-paste(tumor_names,collapse = ";")
}else{
tumor_sample_df_all$ground_truth[iter]<-"G"
tumor_sample_df_all$ground_truth_val[iter]<-paste(tumor_names,collapse = ";")
}
}else{
tumor_sample_df_all$ground_truth[iter]<-"U"
tumor_sample_df_all$ground_truth_val[iter]<-"Unknown"
}
}
tumor_sample_df_all<- tumor_sample_df_all[order(tumor_sample_df_all$ground_truth),]
rownames(tumor_sample_df_all)<-NULL
for (iter in 1:dim(tumor_sample_df_5thed)[1]){
ind<- which(tumor_sample_df_5thed[iter,seq(4,27,2)]==1)
actual_ind<- seq(4,27,2)[ind]-1
tumor_names <- unique(unlist(tumor_sample_df_5thed[iter,actual_ind]))
if(length(ind)>0){
if(length(tumor_names)>1){
tumor_sample_df_5thed$ground_truth[iter]<-"MG"
tumor_sample_df_5thed$ground_truth_val[iter]<-paste(tumor_names,collapse = ";")
}else{
tumor_sample_df_5thed$ground_truth[iter]<-"G"
tumor_sample_df_5thed$ground_truth_val[iter]<-paste(tumor_names,collapse = ";")
}
}else{
tumor_sample_df_5thed$ground_truth[iter]<-"U"
tumor_sample_df_5thed$ground_truth_val[iter]<-"Unknown"
}
}
tumor_sample_df_5thed<- tumor_sample_df_5thed[order(tumor_sample_df_5thed$ground_truth),]
rownames(tumor_sample_df_5thed)<-NULL
tumor_sample_df_5thed<-tumor_sample_df_5thed[,c(1,2,27,28,3:26)]
tumor_sample_df_all<-tumor_sample_df_all[,c(1,2,27,28,3:26)]
tdf_old_5th<-read.csv(paste(result_dir_5th,"/tumor_sample_df_script10_5thed_corrected_ground_truth_aug19.csv",sep=""))
tdf_old_all<-read.csv(paste(result_dir,"/tumor_sample_df_ground_truth_all_edition_aug19.csv",sep=""))
View(tdf_old_5th)
tdf_old_5th<-tdf_old_5th[,c(-1)]
tdf_old_all<-tdf_old_all[,c(-1)]
unique(tdf_old_5th$ground_truth)
unique(tdf_old_all$ground_truth)
for(iter in 1:1600){
if (tumor_sample_df_5thed$nct_id[iter]==tdf_old_5th$nct_id[iter] &
tumor_sample_df_5thed$Tumor_Names[iter]==tdf_old_5th$Tumor_Names[iter] &
tumor_sample_df_5thed$ground_truth_val[iter]=="Unknown" & tumor_sample_df_5thed$ground_truth[iter]=="U"){
tumor_sample_df_5thed$ground_truth_val[iter]=tdf_old_5th$ground_truth_val[iter]
tumor_sample_df_5thed$ground_truth[iter]=tdf_old_5th$ground_truth[iter]
}
}
unique(tumor_sample_df_5thed$ground_truth)
suppressPackageStartupMessages({
library(dplyr)
library(data.table)
library(ggplot2)
library(tidyverse)
library(stringi)
library(qdapRegex)
library(ghql)
library(readxl)
library(dbscan)
library(isotree)
})
# Set the directories
setwd(getwd())
root_dir <- rprojroot::find_root(rprojroot::has_dir(".git"))
util_dir <- file.path(root_dir, "util")
data_dir <- file.path(root_dir,"data")
input_dir <- file.path(root_dir,"input")
analysis_dir <- file.path(root_dir,"analysis")
intermediate_dir <- file.path(analysis_dir,"intermediate")
result_dir <- file.path(analysis_dir,"results")
intermediate_dir_5th <- file.path(analysis_dir,"intermediate_5th")
result_dir_5th <- file.path(analysis_dir,"results_5th")
tumor_sample_df_all<-read.csv(paste(result_dir,"/tumor_sample_df_script10_validation.csv",sep = ""))
tumor_sample_df_5thed<-read.csv(paste(result_dir_5th,"/tumor_sample_df_script10_5thed_corrected_validated.csv",sep = ""))
tumor_sample_df_all<-read.csv(paste(result_dir,"/tumor_sample_df_script10_11sep.csv",sep = ""))
tumor_sample_df_5thed<-read.csv(paste(result_dir_5th,"/tumor_sample_df_script10_5thed_sep11.csv",sep = ""))
tumor_sample_df_all$ground_truth <- NA
tumor_sample_df_5thed$ground_truth_val <- NA
for (iter in 1:dim(tumor_sample_df_all)[1]){
ind<- which(tumor_sample_df_all[iter,seq(4,27,2)]==1)
actual_ind<- seq(4,27,2)[ind]-1
tumor_names <- unique(unlist(tumor_sample_df_all[iter,actual_ind]))
if(length(ind)>0){
if(length(tumor_names)>1){
tumor_sample_df_all$ground_truth[iter]<-"MG"
tumor_sample_df_all$ground_truth_val[iter]<-paste(tumor_names,collapse = ";")
}else{
tumor_sample_df_all$ground_truth[iter]<-"G"
tumor_sample_df_all$ground_truth_val[iter]<-paste(tumor_names,collapse = ";")
}
}else{
tumor_sample_df_all$ground_truth[iter]<-"U"
tumor_sample_df_all$ground_truth_val[iter]<-"Unknown"
}
}
tumor_sample_df_all<- tumor_sample_df_all[order(tumor_sample_df_all$ground_truth),]
rownames(tumor_sample_df_all)<-NULL
for (iter in 1:dim(tumor_sample_df_5thed)[1]){
ind<- which(tumor_sample_df_5thed[iter,seq(4,27,2)]==1)
actual_ind<- seq(4,27,2)[ind]-1
tumor_names <- unique(unlist(tumor_sample_df_5thed[iter,actual_ind]))
if(length(ind)>0){
if(length(tumor_names)>1){
tumor_sample_df_5thed$ground_truth[iter]<-"MG"
tumor_sample_df_5thed$ground_truth_val[iter]<-paste(tumor_names,collapse = ";")
}else{
tumor_sample_df_5thed$ground_truth[iter]<-"G"
tumor_sample_df_5thed$ground_truth_val[iter]<-paste(tumor_names,collapse = ";")
}
}else{
tumor_sample_df_5thed$ground_truth[iter]<-"U"
tumor_sample_df_5thed$ground_truth_val[iter]<-"Unknown"
}
}
tumor_sample_df_5thed<- tumor_sample_df_5thed[order(tumor_sample_df_5thed$ground_truth),]
rownames(tumor_sample_df_5thed)<-NULL
tumor_sample_df_5thed<-tumor_sample_df_5thed[,c(1,2,27,28,3:26)]
tumor_sample_df_all<-tumor_sample_df_all[,c(1,2,27,28,3:26)]
tdf_old_5th<-read.csv(paste(result_dir_5th,"/tumor_sample_df_script10_5thed_corrected_ground_truth_aug19.csv",sep=""))
tdf_old_all<-read.csv(paste(result_dir,"/tumor_sample_df_ground_truth_all_edition_aug19.csv",sep=""))
tdf_old_5th<-tdf_old_5th[,c(-1)]
tdf_old_all<-tdf_old_all[,c(-1)]
length(which(tumor_sample_df_5thed$ground_truth_val=="Unkown"))
length(which(tumor_sample_df_5thed$ground_truth_val=="Unknown"))
length(which(tumor_sample_df_5thed$ground_truth=="U"))
a<-which(tumor_sample_df_5thed$ground_truth=="U")
b<-which(tumor_sample_df_5thed$ground_truth_val=="Unknown")
a
b
a==b
all.equal(a,b)
tdf_old_5th<-tdf_old_5th[order(tdf_old_5th$Tumor_Names),]
tdf_old_all<-tdf_old_all[order(tdf_old_all$Tumor_Names),]
tumor_sample_df_5thed<-tumor_sample_df_5thed[order(tumor_sample_df_5thed$Tumor_Names),]
tumor_sample_df_all<-tumor_sample_df_all[order(tumor_sample_df_all$Tumor_Names),]
for(iter in 1:1600){
if(tumor_sample_df_5thed$ground_truth[iter]=="U"){
tumor_sample_df_5thed$ground_truth_val[iter]==tdf_old_5th$ground_truth_val[iter]
tumor_sample_df_5thed$ground_truth[iter]=tdf_old_5th$ground_truth_val[iter]
}
if(tumor_sample_df_all$ground_truth[iter]=="U"){
tumor_sample_df_all$ground_truth_val[iter]==tdf_old_all$ground_truth_val[iter]
tumor_sample_df_all$ground_truth[iter]=tdf_old_all$ground_truth_val[iter]
}
}
unique(tumor_sample_df_all$ground_truth)
suppressPackageStartupMessages({
library(dplyr)
library(data.table)
library(ggplot2)
library(tidyverse)
library(stringi)
library(qdapRegex)
library(ghql)
library(readxl)
library(dbscan)
library(isotree)
})
# Set the directories
setwd(getwd())
root_dir <- rprojroot::find_root(rprojroot::has_dir(".git"))
util_dir <- file.path(root_dir, "util")
data_dir <- file.path(root_dir,"data")
input_dir <- file.path(root_dir,"input")
analysis_dir <- file.path(root_dir,"analysis")
intermediate_dir <- file.path(analysis_dir,"intermediate")
result_dir <- file.path(analysis_dir,"results")
intermediate_dir_5th <- file.path(analysis_dir,"intermediate_5th")
result_dir_5th <- file.path(analysis_dir,"results_5th")
tumor_sample_df_all<-read.csv(paste(result_dir,"/tumor_sample_df_script10_validation.csv",sep = ""))
tumor_sample_df_5thed<-read.csv(paste(result_dir_5th,"/tumor_sample_df_script10_5thed_corrected_validated.csv",sep = ""))
tumor_sample_df_all<-read.csv(paste(result_dir,"/tumor_sample_df_script10_11sep.csv",sep = ""))
tumor_sample_df_5thed<-read.csv(paste(result_dir_5th,"/tumor_sample_df_script10_5thed_sep11.csv",sep = ""))
tumor_sample_df_all$ground_truth <- NA
tumor_sample_df_5thed$ground_truth_val <- NA
for (iter in 1:dim(tumor_sample_df_all)[1]){
ind<- which(tumor_sample_df_all[iter,seq(4,27,2)]==1)
actual_ind<- seq(4,27,2)[ind]-1
tumor_names <- unique(unlist(tumor_sample_df_all[iter,actual_ind]))
if(length(ind)>0){
if(length(tumor_names)>1){
tumor_sample_df_all$ground_truth[iter]<-"MG"
tumor_sample_df_all$ground_truth_val[iter]<-paste(tumor_names,collapse = ";")
}else{
tumor_sample_df_all$ground_truth[iter]<-"G"
tumor_sample_df_all$ground_truth_val[iter]<-paste(tumor_names,collapse = ";")
}
}else{
tumor_sample_df_all$ground_truth[iter]<-"U"
tumor_sample_df_all$ground_truth_val[iter]<-"Unknown"
}
}
tumor_sample_df_all<- tumor_sample_df_all[order(tumor_sample_df_all$ground_truth),]
rownames(tumor_sample_df_all)<-NULL
for (iter in 1:dim(tumor_sample_df_5thed)[1]){
ind<- which(tumor_sample_df_5thed[iter,seq(4,27,2)]==1)
actual_ind<- seq(4,27,2)[ind]-1
tumor_names <- unique(unlist(tumor_sample_df_5thed[iter,actual_ind]))
if(length(ind)>0){
if(length(tumor_names)>1){
tumor_sample_df_5thed$ground_truth[iter]<-"MG"
tumor_sample_df_5thed$ground_truth_val[iter]<-paste(tumor_names,collapse = ";")
}else{
tumor_sample_df_5thed$ground_truth[iter]<-"G"
tumor_sample_df_5thed$ground_truth_val[iter]<-paste(tumor_names,collapse = ";")
}
}else{
tumor_sample_df_5thed$ground_truth[iter]<-"U"
tumor_sample_df_5thed$ground_truth_val[iter]<-"Unknown"
}
}
tumor_sample_df_5thed<- tumor_sample_df_5thed[order(tumor_sample_df_5thed$ground_truth),]
rownames(tumor_sample_df_5thed)<-NULL
tumor_sample_df_5thed<-tumor_sample_df_5thed[,c(1,2,27,28,3:26)]
tumor_sample_df_all<-tumor_sample_df_all[,c(1,2,27,28,3:26)]
write.csv(tumor_sample_df_all,paste(result_dir,"/tumor_sample_df_ground_truth_all.csv",sep = ""))
write.csv(tumor_sample_df_5thed,paste(result_dir_5th,"/tumor_sample_df_script10_5thed_corrected_ground_truth.csv",sep = ""))
write.csv(tumor_sample_df_all,paste(result_dir,"/tumor_sample_df_gt_annotated_all_sep11.csv",sep = ""))
write.csv(tumor_sample_df_5thed,paste(result_dir_5th,"/tumor_sample_df_gt_annotated_5th_sep11.csv",sep = ""))
#
tdf_old_5th<-read.csv(paste(result_dir_5th,"/tumor_sample_df_script10_5thed_corrected_ground_truth_aug19.csv",sep=""))
tdf_old_all<-read.csv(paste(result_dir,"/tumor_sample_df_ground_truth_all_edition_aug19.csv",sep=""))
tdf_old_5th<-tdf_old_5th[,c(-1)]
tdf_old_all<-tdf_old_all[,c(-1)]
tdf_old_5th<-tdf_old_5th[order(tdf_old_5th$Tumor_Names),]
tdf_old_all<-tdf_old_all[order(tdf_old_all$Tumor_Names),]
tumor_sample_df_5thed<-tumor_sample_df_5thed[order(tumor_sample_df_5thed$Tumor_Names),]
tumor_sample_df_all<-tumor_sample_df_all[order(tumor_sample_df_all$Tumor_Names),]
unique(tumor_sample_df_5thed$ground_truth)
unique(tdf_old_5th$ground_truth)
for(iter in 1:1600){
if(tumor_sample_df_5thed$ground_truth[iter]=="U"){
tumor_sample_df_5thed$ground_truth_val[iter]==tdf_old_5th$ground_truth_val[iter]
tumor_sample_df_5thed$ground_truth[iter]=tdf_old_5th$ground_truth[iter]
}
if(tumor_sample_df_all$ground_truth[iter]=="U"){
tumor_sample_df_all$ground_truth_val[iter]==tdf_old_all$ground_truth_val[iter]
tumor_sample_df_all$ground_truth[iter]=tdf_old_all$ground_truth[iter]
}
}
unique(tumor_sample_df_5thed$ground_truth)
unique(tumor_sample_df_all$ground_truth)
write.csv(tumor_sample_df_all,paste(result_dir,"/tumor_sample_df_gt_annotated_all_sep11.csv",sep = ""))
write.csv(tumor_sample_df_5thed,paste(result_dir_5th,"/tumor_sample_df_gt_annotated_5th_sep11.csv",sep = ""))
#This script is used evaluate the accuracy of each clustering+standardization methods.
suppressPackageStartupMessages({
library(dplyr)
library(data.table)
library(ggplot2)
library(tidyverse)
library(stringi)
library(qdapRegex)
library(ghql)
library(readxl)
library(dbscan)
library(isotree)
})
# Set the directories
setwd(getwd())
root_dir <- rprojroot::find_root(rprojroot::has_dir(".git"))
util_dir <- file.path(root_dir, "util")
data_dir <- file.path(root_dir,"data")
input_dir <- file.path(root_dir,"input")
analysis_dir <- file.path(root_dir,"analysis")
intermediate_dir <- file.path(analysis_dir,"intermediate")
result_dir <- file.path(analysis_dir,"results")
intermediate_dir_5th <- file.path(analysis_dir,"intermediate_5th")
result_dir_5th <- file.path(analysis_dir,"results_5th")''
result_dir_5th <- file.path(analysis_dir,"results_5th")
tumor_all_gt<-read.csv(paste(result_dir,"/tumor_sample_df_gt_annotated_all_sep11.csv",sep = ""))
tumor_5thed_gt<-read.csv(paste(result_dir_5th,"/tumor_sample_df_gt_annotated_5th_sep11.csv",sep = ""))
tumor_all_gt<-tumor_all_gt[,c(-1)]
tumor_5thed_gt<-tumor_5thed_gt[,c(-1)]
View(tumor_5thed_gt)
unique(tumor_all_gt$ground_truth)
unique(tumor_5thed_gt$ground_truth)
tumor_all_gt<-tumor_all_gt%>%filter(ground_truth %in% c("G","MG","G-Manual"))
tumor_5thed_gt<-tumor_5thed_gt%>%filter(ground_truth %in% c("G","MG","G-Manual"))
all<-(colSums(tumor_all_gt[,c(seq(6,28,2))]))/1118
fifth<-(colSums(tumor_all_gt[,c(seq(6,28,2))]))/1033
all<-as.data.frame(all)
fifth<-as.data.frame(fifth)
View(all)
View(fifth)
View(tumor_5thed_gt)
View(tumor_all_gt)
tumor_all_gt<-read.csv(paste(result_dir,"/tumor_sample_df_gt_annotated_all_sep11.csv",sep = ""))
tumor_5thed_gt<-read.csv(paste(result_dir_5th,"/tumor_sample_df_gt_annotated_5th_sep11.csv",sep = ""))
tumor_all_gt<-tumor_all_gt[,c(-1)]
tumor_5thed_gt<-tumor_5thed_gt[,c(-1)]
View(tumor_5thed_gt)
tumor_5thed_gt$ground_truth_val[which(tumor_5thed_gt$ground_truth=="NF")]
unique(tumor_5thed_gt$ground_truth_val[which(tumor_5thed_gt$ground_truth=="NF")])
unique(tumor_all_gt$ground_truth_val[which(tumor_all_gt$ground_truth=="NF")])
tumor_all_gt<-tumor_all_gt%>%filter(ground_truth %in% c("G","MG","G-Manual"))
tumor_5thed_gt<-tumor_5thed_gt%>%filter(ground_truth %in% c("G","MG","G-Manual"))
all<-(colSums(tumor_all_gt[,c(seq(6,28,2))]))/1118
fifth<-(colSums(tumor_5thed_gt[,c(seq(6,28,2))]))/1033
all<-as.data.frame(all)
fifth<-as.data.frame(fifth)
View(all)
View(fifth)
all<-(colSums(tumor_all_gt[,c(seq(6,28,2))]))/1118
fifth<-(colSums(tumor_all_gt[,c(seq(6,28,2))]))/1033
all<-as.data.frame(all)
fifth<-as.data.frame(fifth)
all<-(colSums(tumor_all_gt[,c(seq(6,28,2))]))/1118
fifth<-(colSums(tumor_5thed_gt[,c(seq(6,28,2))]))/1033
all<-as.data.frame(all)
fifth<-as.data.frame(fifth)
tumor_all_gt<-read.csv(paste(result_dir,"/tumor_sample_df_gt_annotated_all_sep11.csv",sep = ""))
tumor_5thed_gt<-read.csv(paste(result_dir_5th,"/tumor_sample_df_gt_annotated_5th_sep11.csv",sep = ""))
tumor_all_gt<-tumor_all_gt[,c(-1)]
tumor_5thed_gt<-tumor_5thed_gt[,c(-1)]
tumor_all_gt<-tumor_all_gt%>%filter(ground_truth %in% c("G","MG","G-Manual"))
tumor_5thed_gt<-tumor_5thed_gt%>%filter(ground_truth %in% c("G","MG","G-Manual"))
all<-(colSums(tumor_all_gt[,c(seq(6,28,2))]))/1118
fifth<-(colSums(tumor_5thed_gt[,c(seq(6,28,2))]))/1033
all<-as.data.frame(all)
fifth<-as.data.frame(fifth)
View(all)
all<-all[order(all$all),]
fifth<-fifth[order(fifth$fifth),]
tumor_all_gt<-read.csv(paste(result_dir,"/tumor_sample_df_gt_annotated_all_sep11.csv",sep = ""))
tumor_5thed_gt<-read.csv(paste(result_dir_5th,"/tumor_sample_df_gt_annotated_5th_sep11.csv",sep = ""))
tumor_all_gt<-tumor_all_gt[,c(-1)]
tumor_5thed_gt<-tumor_5thed_gt[,c(-1)]
tumor_all_gt<-tumor_all_gt%>%filter(ground_truth %in% c("G","MG","G-Manual"))
tumor_5thed_gt<-tumor_5thed_gt%>%filter(ground_truth %in% c("G","MG","G-Manual"))
all<-(colSums(tumor_all_gt[,c(seq(6,28,2))]))/1118
fifth<-(colSums(tumor_5thed_gt[,c(seq(6,28,2))]))/1033
all<-as.data.frame(all)
fifth<-as.data.frame(fifth)
all<-all[order(all$all),]
fifth<-fifth[order(fifth$fifth),]
all<-as.data.frame(all)
fifth<-as.data.frame(fifth)
tumor_all_gt<-read.csv(paste(result_dir,"/tumor_sample_df_gt_annotated_all_sep11.csv",sep = ""))
tumor_5thed_gt<-read.csv(paste(result_dir_5th,"/tumor_sample_df_gt_annotated_5th_sep11.csv",sep = ""))
tumor_all_gt<-tumor_all_gt[,c(-1)]
tumor_5thed_gt<-tumor_5thed_gt[,c(-1)]
tumor_all_gt<-tumor_all_gt%>%filter(ground_truth %in% c("G","MG","G-Manual"))
tumor_5thed_gt<-tumor_5thed_gt%>%filter(ground_truth %in% c("G","MG","G-Manual"))
all<-(colSums(tumor_all_gt[,c(seq(6,28,2))]))/1118
fifth<-(colSums(tumor_5thed_gt[,c(seq(6,28,2))]))/1033
all<-as.data.frame(all)
fifth<-as.data.frame(fifth)
fifth$method<-rownames(fifth)
all$method<-rownames(all)
View(all)
rownames(all)<-NULL
rownames(fifth)<-NULL
all<-all[,c(2,1)]
fifth<-fifth[,c(2,1)]
all<-all[oder(all$all.decreasing = TRUE),]
all<-all[oder(all$all,decreasing = TRUE),]
all<-all[order(all$all,decreasing = TRUE),]
fifth<-fifth[order(fifth$fifth,decreasing = TRUE),]
all$method
for(iter in 1:12){
if(all$method[iter]=="valid_euclidean_dist_v3" ){
all$method[iter]="LTE-3 + Euclidean Dist"
}else if(all$method[iter]=="valid_af_v3"){
all$method[iter]="LTE-3 + AP"
}else if(all$method[iter]=="valid_euclidean_dist_ada2"){
all$method[iter]="ADA002 + Euclidean Dist"
}else if(all$method[iter]=="valid_af_ad2"){
all$method[iter]="ADA002 + AP"
}else if(all$method[iter]=="valid_kmeans_v3"){
all$method[iter]="LTE-3 + KMeans"
}else if(all$method[iter]=="valid_kmeans_ada2"){
all$method[iter]="ADA002 + KMeans"
}else if(all$method[iter]=="valid_lv_match"){
all$method[iter]="Levenshtein"
}else if(all$method[iter]=="valid_af_lv"){
all$method[iter]="Levenshtein + AP"
}else if(all$method[iter]=="valid_jw_match"){
all$method[iter]="Jarro Winkler"
}else if(all$method[iter]=="valid_af_jw"){
all$method[iter]="Jarro Winkler + AP"
}else if(all$method[iter]=="valid_cosine_match"){
all$method[iter]="Cosine"
}else if(all$method[iter]=="valid_af_cosine"){
all$method[iter]="Cosine + AP"
}
}
for(iter in 1:12){
if(fifth$method[iter]=="valid_euclidean_dist_v3" ){
fifth$method[iter]="LTE-3 + Euclidean Dist"
}else if(fifth$method[iter]=="valid_af_v3"){
fifth$method[iter]="LTE-3 + AP"
}else if(fifth$method[iter]=="valid_euclidean_dist_ada2"){
fifth$method[iter]="ADA002 + Euclidean Dist"
}else if(fifth$method[iter]=="valid_af_ad2"){
fifth$method[iter]="ADA002 + AP"
}else if(fifth$method[iter]=="valid_kmeans_v3"){
fifth$method[iter]="LTE-3 + KMeans"
}else if(fifth$method[iter]=="valid_kmeans_ada2"){
fifth$method[iter]="ADA002 + KMeans"
}else if(fifth$method[iter]=="valid_lv_match"){
fifth$method[iter]="Levenshtein"
}else if(fifth$method[iter]=="valid_af_lv"){
fifth$method[iter]="Levenshtein + AP"
}else if(fifth$method[iter]=="valid_jw_match"){
fifth$method[iter]="Jarro Winkler"
}else if(fifth$method[iter]=="valid_af_jw"){
fifth$method[iter]="Jarro Winkler + AP"
}else if(fifth$method[iter]=="valid_cosine_match"){
fifth$method[iter]="Cosine"
}else if(fifth$method[iter]=="valid_af_cosine"){
fifth$method[iter]="Cosine + AP"
}
}
